<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
ul,h2{margin:0;padding:0}
li{list-style:none;}
#list{ width:200px;margin:0 auto; border:1px solid #333; }
#list h2{height:30px;background:url(img/ico1.gif) no-repeat 3px center #6FF;margin-bottom:3px;line-height:30px;text-indent:20px;color:#96C;}
#list .active{height:30px;background:url(img/ico2.gif) no-repeat 3px center #FF9;margin-bottom:3px;line-height:30px;text-indent:20px;color:#96C;}
#list ul { display:none; }
#list ul li { line-height:20px; border-bottom:1px solid #333; text-indent:24px; }
#list ul .hover { background:#F39; }
</style>
<script>
window.onload = function (){
	
	var oUl = document.getElementById('list');
	var aH2 = oUl.getElementsByTagName('h2');
	var aUl = oUl.getElementsByTagName('ul');
	
	var aLi=null;
	var arrLi=[];
	for(var i=0;i<aH2.length;i++){
		aH2[i].index=i;
		aH2[i].onoff=true;
		aH2[i].onclick = function (){
			for(var i=0;i<aH2.length;i++){
				//除了点击以外的所有H2
				if(i !=this.index){
					aH2[i].onoff=true;//每次点击的时候开关为true,自己的className和ul值
					aH2[i].className = '';
					aUl[i].style.display = 'none';
				}
			}
			if(this.onoff){	  //如果H2的class.Name为空，执行下面；不为空，执行else里面语句
				aUl[this.index].style.display='block';
				this.className='active';		
			}else{
				aUl[this.index].style.display='none';
				this.className='';
			}	this.onoff=!this.onoff;
			
			};
	};
	for(var i=0;i<aUl.length;i++){
		aLi=aUl[i].getElementsByTagName('li');//没有函数要用不同的字母
		for(var j=0;j<aLi.length;j++){
			arrLi.push(aLi[j]);//把所有想要的li放到数组里面去（for套for如果之间有函数可以用一样的）
		}
	}
	
	for(var i=0;i<arrLi.length;i++){
		arrLi[i].onoff=true;
		arrLi[i].onclick = function (){
			for(var i=0;i<arrLi.length;i++){
				if(this.onoff){
					arrLi[i].className='hover';
				}else{
					this.className = '';
				}//全部清空，当前添加
				this.onoff=!this.onoff;
		}
	}
};

</script>

</head>

<body>
<ul id="list">
	<li class="lis">
    	<h2>我的家人</h2>
    	<ul>
    		<li>老婆</li>
        	<li>哥哥</li>
        	<li>爸爸</li>
        	<li>妈妈</li>
    	</ul>
    </li>
    <li class="lis">
    	<h2>我的好友</h2>
    	<ul>
    		<li>损友</li>
        	<li>挚友</li>
        	<li>不亲</li>
    	</ul>
    </li>
    <li class="lis">
    	<h2>我的好友</h2>
    	<ul>
    		<li>损友</li>
        	<li>挚友</li>
        	<li>不亲</li>
            <li>亲</li>
            <li>亲ain</li>
    	</ul>
    </li>
</ul>
</body>
</html>
